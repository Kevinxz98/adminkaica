import{a as dt}from"./chunk-IR7OZWTS.js";import{a as ct,b as st,c as ft}from"./chunk-5QFTM2JN.js";import{a as ut}from"./chunk-6YTXCPIZ.js";import"./chunk-MUVY2KRP.js";import{a as lt}from"./chunk-LCA5ED7I.js";import{c as ot}from"./chunk-2D66LXFZ.js";import"./chunk-42GC3H2R.js";import{$b as it,Ab as Qe,Bb as Je,Cb as ve,Db as S,Eb as I,Fb as k,Nb as et,Tb as tt,Wa as pe,_b as rt,ac as at,ib as Ke,jc as C,ra as ue,sa as de,xc as nt,yb as $e}from"./chunk-DT3HLPPQ.js";import"./chunk-2EBTC7QX.js";import{e as Sr,g as Ar}from"./chunk-VB56BUGO.js";var pt=Sr((be,Ie)=>{"use strict";(function(L,V){typeof be=="object"&&typeof Ie<"u"?Ie.exports=V():typeof define=="function"&&define.amd?define(V):(L=L||self,L.FilePondPluginImagePreview=V())})(be,function(){"use strict";var L=function(e){return/^image/.test(e.type)};function V(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?V=function(e){return typeof e}:V=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(r)}var G;function z(r,e,t,i){G||(G=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103);var a=r&&r.defaultProps,n=arguments.length-3;if(!e&&n!==0&&(e={children:void 0}),e&&a)for(var l in a)e[l]===void 0&&(e[l]=a[l]);else e||(e=a||{});if(n===1)e.children=i;else if(n>1){for(var o=new Array(n),c=0;c<n;c++)o[c]=arguments[c+3];e.children=o}return{$$typeof:G,type:r,key:t===void 0?null:""+t,ref:null,props:e,_owner:null}}function Y(r){var e;if(typeof Symbol=="function"&&(Symbol.asyncIterator&&(e=r[Symbol.asyncIterator],e!=null)||Symbol.iterator&&(e=r[Symbol.iterator],e!=null)))return e.call(r);throw new TypeError("Object is not async iterable")}function K(r){this.wrapped=r}function q(r){var e,t;function i(l,o){return new Promise(function(c,u){var v={key:l,arg:o,resolve:c,reject:u,next:null};t?t=t.next=v:(e=t=v,a(l,o))})}function a(l,o){try{var c=r[l](o),u=c.value,v=u instanceof K;Promise.resolve(v?u.wrapped:u).then(function(p){if(v){a("next",p);return}n(c.done?"return":"normal",p)},function(p){a("throw",p)})}catch(p){n("throw",p)}}function n(l,o){switch(l){case"return":e.resolve({value:o,done:!0});break;case"throw":e.reject(o);break;default:e.resolve({value:o,done:!1});break}e=e.next,e?a(e.key,e.arg):t=null}this._invoke=i,typeof r.return!="function"&&(this.return=void 0)}typeof Symbol=="function"&&Symbol.asyncIterator&&(q.prototype[Symbol.asyncIterator]=function(){return this}),q.prototype.next=function(r){return this._invoke("next",r)},q.prototype.throw=function(r){return this._invoke("throw",r)},q.prototype.return=function(r){return this._invoke("return",r)};function Dr(r){return function(){return new q(r.apply(this,arguments))}}function Vr(r){return new K(r)}function Fr(r,e){var t={},i=!1;function a(n,l){return i=!0,l=new Promise(function(o){o(r[n](l))}),{done:!1,value:e(l)}}return typeof Symbol=="function"&&Symbol.iterator&&(t[Symbol.iterator]=function(){return this}),t.next=function(n){return i?(i=!1,n):a("next",n)},typeof r.throw=="function"&&(t.throw=function(n){if(i)throw i=!1,n;return a("throw",n)}),typeof r.return=="function"&&(t.return=function(n){return a("return",n)}),t}function Pe(r,e,t,i,a,n,l){try{var o=r[n](l),c=o.value}catch(u){t(u);return}o.done?e(c):Promise.resolve(c).then(i,a)}function Gr(r){return function(){var e=this,t=arguments;return new Promise(function(i,a){var n=r.apply(e,t);function l(c){Pe(n,i,a,l,o,"next",c)}function o(c){Pe(n,i,a,l,o,"throw",c)}l(void 0)})}}function Nr(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function xe(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function Lr(r,e,t){return e&&xe(r.prototype,e),t&&xe(r,t),r}function zr(r,e){for(var t in e){var i=e[t];i.configurable=i.enumerable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,t,i)}if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),n=0;n<a.length;n++){var l=a[n],i=e[l];i.configurable=i.enumerable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,l,i)}return r}function Wr(r,e){for(var t=Object.getOwnPropertyNames(e),i=0;i<t.length;i++){var a=t[i],n=Object.getOwnPropertyDescriptor(e,a);n&&n.configurable&&r[a]===void 0&&Object.defineProperty(r,a,n)}return r}function Te(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Me(){return Me=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Me.apply(this,arguments)}function Hr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.forEach(function(a){Te(r,a,t[a])})}return r}function mt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&$(r,e)}function Ur(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}function re(r){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},re(r)}function $(r,e){return $=Object.setPrototypeOf||function(i,a){return i.__proto__=a,i},$(r,e)}function gt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ie(r,e,t){return gt()?ie=Reflect.construct:ie=function(a,n,l){var o=[null];o.push.apply(o,n);var c=Function.bind.apply(a,o),u=new c;return l&&$(u,l.prototype),u},ie.apply(null,arguments)}function yt(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function he(r){var e=typeof Map=="function"?new Map:void 0;return he=function(i){if(i===null||!yt(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,a)}function a(){return ie(i,arguments,re(this).constructor)}return a.prototype=Object.create(i.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),$(a,i)},he(r)}function qr(r,e){return e!=null&&typeof Symbol<"u"&&e[Symbol.hasInstance]?e[Symbol.hasInstance](r):r instanceof e}function Br(r){return r&&r.__esModule?r:{default:r}}function Yr(r){if(r&&r.__esModule)return r;var e={};if(r!=null){for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(r,t):{};i.get||i.set?Object.defineProperty(e,t,i):e[t]=r[t]}}return e.default=r,e}function jr(r,e){if(r!==e)throw new TypeError("Cannot instantiate an arrow function")}function Xr(r){if(r==null)throw new TypeError("Cannot destructure undefined")}function wt(r,e){if(r==null)return{};var t={},i=Object.keys(r),a,n;for(n=0;n<i.length;n++)a=i[n],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function Zr(r,e){if(r==null)return{};var t=wt(r,e),i,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(t[i]=r[i])}return t}function Et(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Kr(r,e){return e&&(typeof e=="object"||typeof e=="function")?e:Et(r)}function Re(r,e){for(;!Object.prototype.hasOwnProperty.call(r,e)&&(r=re(r),r!==null););return r}function me(r,e,t){return typeof Reflect<"u"&&Reflect.get?me=Reflect.get:me=function(a,n,l){var o=Re(a,n);if(o){var c=Object.getOwnPropertyDescriptor(o,n);return c.get?c.get.call(l):c.value}},me(r,e,t||r)}function ae(r,e,t,i){return typeof Reflect<"u"&&Reflect.set?ae=Reflect.set:ae=function(n,l,o,c){var u=Re(n,l),v;if(u){if(v=Object.getOwnPropertyDescriptor(u,l),v.set)return v.set.call(c,o),!0;if(!v.writable)return!1}if(v=Object.getOwnPropertyDescriptor(c,l),v){if(!v.writable)return!1;v.value=o,Object.defineProperty(c,l,v)}else Te(c,l,o);return!0},ae(r,e,t,i)}function $r(r,e,t,i,a){var n=ae(r,e,t,i||r);if(!n&&a)throw new Error("failed to set property");return t}function Qr(r,e){return e||(e=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(e)}}))}function Jr(r,e){return e||(e=r.slice(0)),r.raw=e,r}function ei(r,e){if(r===_t)throw new ReferenceError(e+" is not defined - temporal dead zone");return r}function ti(r){throw new Error('"'+r+'" is read-only')}function ri(r){throw new Error('Class "'+r+'" cannot be referenced in computed property keys.')}var _t={};function Se(r,e){return ge(r)||Pt(r,e)||ye()}function ii(r,e){return ge(r)||xt(r,e)||ye()}function bt(r){return ge(r)||Ae(r)||ye()}function ai(r){return It(r)||Ae(r)||Tt()}function It(r){if(Array.isArray(r)){for(var e=0,t=new Array(r.length);e<r.length;e++)t[e]=r[e];return t}}function ge(r){if(Array.isArray(r))return r}function Ae(r){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]")return Array.from(r)}function Pt(r,e){var t=[],i=!0,a=!1,n=void 0;try{for(var l=r[Symbol.iterator](),o;!(i=(o=l.next()).done)&&(t.push(o.value),!(e&&t.length===e));i=!0);}catch(c){a=!0,n=c}finally{try{!i&&l.return!=null&&l.return()}finally{if(a)throw n}}return t}function xt(r,e){for(var t=[],i=r[Symbol.iterator](),a;!(a=i.next()).done&&(t.push(a.value),!(e&&t.length===e)););return t}function Tt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function ye(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function ni(r){return function(){var e=r.apply(this,arguments);return e.next(),e}}function Mt(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Oe(r){var e=Mt(r,"string");return typeof e=="symbol"?e:String(e)}function oi(r,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")}function li(r,e,t,i){t&&Object.defineProperty(r,e,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function ci(r,e,t,i,a){var n={};return Object.keys(i).forEach(function(l){n[l]=i[l]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=t.slice().reverse().reduce(function(l,o){return o(r,e,l)||l},n),a&&n.initializer!==void 0&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),n.initializer===void 0&&(Object.defineProperty(r,e,n),n=null),n}var Rt=0;function si(r){return"__private_"+Rt+++"_"+r}function fi(r,e){if(!Object.prototype.hasOwnProperty.call(r,e))throw new TypeError("attempted to use private field on non-instance");return r}function ui(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");var t=e.get(r);return t.get?t.get.call(r):t.value}function di(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");var i=e.get(r);if(i.set)i.set.call(r,t);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=t}return t}function pi(r,e,t){if(r!==e)throw new TypeError("Private static access of wrong provenance");return t.value}function vi(r,e,t,i){if(r!==e)throw new TypeError("Private static access of wrong provenance");if(!t.writable)throw new TypeError("attempted to set read only private field");return t.value=i,i}function hi(r,e,t){if(r!==e)throw new TypeError("Private static access of wrong provenance");return t}function mi(){throw new TypeError("attempted to set read only static private field")}function gi(r,e,t,i){var a=ke();if(i)for(var n=0;n<i.length;n++)a=i[n](a);var l=e(function(u){a.initializeInstanceElements(u,o.elements)},t),o=a.decorateClass(Ot(l.d.map(St)),r);return a.initializeClassElements(l.F,o.elements),a.runClassFinishers(l.F,o.finishers)}function ke(){ke=function(){return r};var r={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach(function(i){t.forEach(function(a){a.kind===i&&a.placement==="own"&&this.defineClassElement(e,a)},this)},this)},initializeClassElements:function(e,t){var i=e.prototype;["method","field"].forEach(function(a){t.forEach(function(n){var l=n.placement;if(n.kind===a&&(l==="static"||l==="prototype")){var o=l==="static"?e:i;this.defineClassElement(o,n)}},this)},this)},defineClassElement:function(e,t){var i=t.descriptor;if(t.kind==="field"){var a=t.initializer;i={enumerable:i.enumerable,writable:i.writable,configurable:i.configurable,value:a===void 0?void 0:a.call(e)}}Object.defineProperty(e,t.key,i)},decorateClass:function(e,t){var i=[],a=[],n={static:[],prototype:[],own:[]};if(e.forEach(function(o){this.addElementPlacement(o,n)},this),e.forEach(function(o){if(!Q(o))return i.push(o);var c=this.decorateElement(o,n);i.push(c.element),i.push.apply(i,c.extras),a.push.apply(a,c.finishers)},this),!t)return{elements:i,finishers:a};var l=this.decorateConstructor(i,t);return a.push.apply(a,l.finishers),l.finishers=a,l},addElementPlacement:function(e,t,i){var a=t[e.placement];if(!i&&a.indexOf(e.key)!==-1)throw new TypeError("Duplicated element ("+e.key+")");a.push(e.key)},decorateElement:function(e,t){for(var i=[],a=[],n=e.decorators,l=n.length-1;l>=0;l--){var o=t[e.placement];o.splice(o.indexOf(e.key),1);var c=this.fromElementDescriptor(e),u=this.toElementFinisherExtras((0,n[l])(c)||c);e=u.element,this.addElementPlacement(e,t),u.finisher&&a.push(u.finisher);var v=u.extras;if(v){for(var p=0;p<v.length;p++)this.addElementPlacement(v[p],t);i.push.apply(i,v)}}return{element:e,finishers:a,extras:i}},decorateConstructor:function(e,t){for(var i=[],a=t.length-1;a>=0;a--){var n=this.fromClassDescriptor(e),l=this.toClassDescriptor((0,t[a])(n)||n);if(l.finisher!==void 0&&i.push(l.finisher),l.elements!==void 0){e=l.elements;for(var o=0;o<e.length-1;o++)for(var c=o+1;c<e.length;c++)if(e[o].key===e[c].key&&e[o].placement===e[c].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:i}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor},i={value:"Descriptor",configurable:!0};return Object.defineProperty(t,Symbol.toStringTag,i),e.kind==="field"&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){if(e!==void 0)return bt(e).map(function(t){var i=this.toElementDescriptor(t);return this.disallowProperty(t,"finisher","An element descriptor"),this.disallowProperty(t,"extras","An element descriptor"),i},this)},toElementDescriptor:function(e){var t=String(e.kind);if(t!=="method"&&t!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+t+'"');var i=Oe(e.key),a=String(e.placement);if(a!=="static"&&a!=="prototype"&&a!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+a+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var l={kind:t,key:i,placement:a,descriptor:Object.assign({},n)};return t!=="field"?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),l.initializer=e.initializer),l},toElementFinisherExtras:function(e){var t=this.toElementDescriptor(e),i=De(e,"finisher"),a=this.toElementDescriptors(e.extras);return{element:t,finisher:i,extras:a}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)},i={value:"Descriptor",configurable:!0};return Object.defineProperty(t,Symbol.toStringTag,i),t},toClassDescriptor:function(e){var t=String(e.kind);if(t!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var i=De(e,"finisher"),a=this.toElementDescriptors(e.elements);return{elements:a,finisher:i}},runClassFinishers:function(e,t){for(var i=0;i<t.length;i++){var a=(0,t[i])(e);if(a!==void 0){if(typeof a!="function")throw new TypeError("Finishers must return a constructor.");e=a}}return e},disallowProperty:function(e,t,i){if(e[t]!==void 0)throw new TypeError(i+" can't have a ."+t+" property.")}};return r}function St(r){var e=Oe(r.key),t;r.kind==="method"?t={value:r.value,writable:!0,configurable:!0,enumerable:!1}:r.kind==="get"?t={get:r.value,configurable:!0,enumerable:!1}:r.kind==="set"?t={set:r.value,configurable:!0,enumerable:!1}:r.kind==="field"&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:r.kind==="field"?"field":"method",key:e,placement:r.static?"static":r.kind==="field"?"own":"prototype",descriptor:t};return r.decorators&&(i.decorators=r.decorators),r.kind==="field"&&(i.initializer=r.value),i}function At(r,e){r.descriptor.get!==void 0?e.descriptor.get=r.descriptor.get:e.descriptor.set=r.descriptor.set}function Ot(r){for(var e=[],t=function(l){return l.kind==="method"&&l.key===a.key&&l.placement===a.placement},i=0;i<r.length;i++){var a=r[i],n;if(a.kind==="method"&&(n=e.find(t)))if(Ce(a.descriptor)||Ce(n.descriptor)){if(Q(a)||Q(n))throw new ReferenceError("Duplicated methods ("+a.key+") can't be decorated.");n.descriptor=a.descriptor}else{if(Q(a)){if(Q(n))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+a.key+").");n.decorators=a.decorators}At(a,n)}else e.push(a)}return e}function Q(r){return r.decorators&&r.decorators.length}function Ce(r){return r!==void 0&&!(r.value===void 0&&r.writable===void 0)}function De(r,e){var t=r[e];if(t!==void 0&&typeof t!="function")throw new TypeError("Expected '"+e+"' to be a function");return t}function yi(r,e,t){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return t}function wi(){throw new TypeError("attempted to reassign private method")}function Ve(r,e){Ve=function(o,c){return new n(o,c)};var t=he(RegExp),i=RegExp.prototype,a=new WeakMap;function n(o,c){var u=t.call(this,o);return a.set(u,c),u}mt(n,t),n.prototype.exec=function(o){var c=i.exec.call(this,o);return c&&(c.groups=l(c,this)),c},n.prototype[Symbol.replace]=function(o,c){if(typeof c=="string"){var u=a.get(this);return i[Symbol.replace].call(this,o,c.replace(/\$<([^>]+)>/g,function(p,g){return"$"+u[g]}))}else if(typeof c=="function"){var v=this;return i[Symbol.replace].call(this,o,function(){var p=[];return p.push.apply(p,arguments),typeof p[p.length-1]!="object"&&p.push(l(p,v)),c.apply(this,p)})}else return i[Symbol.replace].call(this,o,c)};function l(o,c){var u=a.get(c);return Object.keys(u).reduce(function(v,p){return v[p]=o[u[p]],v},Object.create(null))}return Ve.apply(this,arguments)}var Fe=function(e,t){return J(e.x*t,e.y*t)},Ge=function(e,t){return J(e.x+t.x,e.y+t.y)},kt=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return t===0?{x:0,y:0}:J(e.x/t,e.y/t)},ne=function(e,t,i){var a=Math.cos(t),n=Math.sin(t),l=J(e.x-i.x,e.y-i.y);return J(i.x+a*l.x-n*l.y,i.y+n*l.x+a*l.y)},J=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{x:e,y:t}},F=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0;if(typeof e=="string")return parseFloat(e)*i;if(typeof e=="number")return e*(a?t[a]:Math.min(t.width,t.height))},Ct=function(e,t,i){var a=e.borderStyle||e.lineStyle||"solid",n=e.backgroundColor||e.fontColor||"transparent",l=e.borderColor||e.lineColor||"transparent",o=F(e.borderWidth||e.lineWidth,t,i),c=e.lineCap||"round",u=e.lineJoin||"round",v=typeof a=="string"?"":a.map(function(g){return F(g,t,i)}).join(","),p=e.opacity||1;return{"stroke-linecap":c,"stroke-linejoin":u,"stroke-width":o||0,"stroke-dasharray":v,stroke:l,fill:n,opacity:p}},N=function(e){return e!=null},Dt=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=F(e.x,t,i,"width")||F(e.left,t,i,"width"),n=F(e.y,t,i,"height")||F(e.top,t,i,"height"),l=F(e.width,t,i,"width"),o=F(e.height,t,i,"height"),c=F(e.right,t,i,"width"),u=F(e.bottom,t,i,"height");return N(n)||(N(o)&&N(u)?n=t.height-o-u:n=u),N(a)||(N(l)&&N(c)?a=t.width-l-c:a=c),N(l)||(N(a)&&N(c)?l=t.width-a-c:l=0),N(o)||(N(n)&&N(u)?o=t.height-n-u:o=0),{x:a||0,y:n||0,width:l||0,height:o||0}},Vt=function(e){return e.map(function(t,i){return"".concat(i===0?"M":"L"," ").concat(t.x," ").concat(t.y)}).join(" ")},W=function(e,t){return Object.keys(t).forEach(function(i){return e.setAttribute(i,t[i])})},Ft="http://www.w3.org/2000/svg",X=function(e,t){var i=document.createElementNS(Ft,e);return t&&W(i,t),i},Gt=function(e){return W(e,Object.assign({},e.rect,e.styles))},Nt=function(e){var t=e.rect.x+e.rect.width*.5,i=e.rect.y+e.rect.height*.5,a=e.rect.width*.5,n=e.rect.height*.5;return W(e,Object.assign({cx:t,cy:i,rx:a,ry:n},e.styles))},Lt={contain:"xMidYMid meet",cover:"xMidYMid slice"},zt=function(e,t){W(e,Object.assign({},e.rect,e.styles,{preserveAspectRatio:Lt[t.fit]||"none"}))},Wt={left:"start",center:"middle",right:"end"},Ht=function(e,t,i,a){var n=F(t.fontSize,i,a),l=t.fontFamily||"sans-serif",o=t.fontWeight||"normal",c=Wt[t.textAlign]||"start";W(e,Object.assign({},e.rect,e.styles,{"stroke-width":0,"font-weight":o,"font-size":n,"font-family":l,"text-anchor":c})),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},Ut=function(e,t,i,a){W(e,Object.assign({},e.rect,e.styles,{fill:"none"}));var n=e.childNodes[0],l=e.childNodes[1],o=e.childNodes[2],c=e.rect,u={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(W(n,{x1:c.x,y1:c.y,x2:u.x,y2:u.y}),!!t.lineDecoration){l.style.display="none",o.style.display="none";var v=kt({x:u.x-c.x,y:u.y-c.y}),p=F(.05,i,a);if(t.lineDecoration.indexOf("arrow-begin")!==-1){var g=Fe(v,p),M=Ge(c,g),_=ne(c,2,M),P=ne(c,-2,M);W(l,{style:"display:block;",d:"M".concat(_.x,",").concat(_.y," L").concat(c.x,",").concat(c.y," L").concat(P.x,",").concat(P.y)})}if(t.lineDecoration.indexOf("arrow-end")!==-1){var R=Fe(v,-p),T=Ge(u,R),m=ne(u,2,T),h=ne(u,-2,T);W(o,{style:"display:block;",d:"M".concat(m.x,",").concat(m.y," L").concat(u.x,",").concat(u.y," L").concat(h.x,",").concat(h.y)})}}},qt=function(e,t,i,a){W(e,Object.assign({},e.styles,{fill:"none",d:Vt(t.points.map(function(n){return{x:F(n.x,i,a,"width"),y:F(n.y,i,a,"height")}}))}))},oe=function(e){return function(t){return X(e,{id:t.id})}},Bt=function(e){var t=X("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=function(){t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},Yt=function(e){var t=X("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),i=X("line");t.appendChild(i);var a=X("path");t.appendChild(a);var n=X("path");return t.appendChild(n),t},jt={image:Bt,rect:oe("rect"),ellipse:oe("ellipse"),text:oe("text"),path:oe("path"),line:Yt},Xt={rect:Gt,ellipse:Nt,image:zt,text:Ht,path:qt,line:Ut},Zt=function(e,t){return jt[e](t)},Kt=function(e,t,i,a,n){t!=="path"&&(e.rect=Dt(i,a,n)),e.styles=Ct(i,a,n),Xt[t](e,i,a,n)},$t=["x","y","left","top","right","bottom","width","height"],Qt=function(e){return typeof e=="string"&&/%/.test(e)?parseFloat(e)/100:e},Jt=function(e){var t=Se(e,2),i=t[0],a=t[1],n=a.points?{}:$t.reduce(function(l,o){return l[o]=Qt(a[o]),l},{});return[i,Object.assign({zIndex:0},a,n)]},er=function(e,t){return e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0},tr=function(e){return e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function(i){var a=i.root,n=i.props;if(n.dirty){var l=n.crop,o=n.resize,c=n.markup,u=n.width,v=n.height,p=l.width,g=l.height;if(o){var M=o.size,_=M&&M.width,P=M&&M.height,R=o.mode,T=o.upscale;_&&!P&&(P=_),P&&!_&&(_=P);var m=p<_&&g<P;if(!m||m&&T){var h=_/p,d=P/g;if(R==="force")p=_,g=P;else{var s;R==="cover"?s=Math.max(h,d):R==="contain"&&(s=Math.min(h,d)),p=p*s,g=g*s}}}var f={width:u,height:v};a.element.setAttribute("width",f.width),a.element.setAttribute("height",f.height);var y=Math.min(u/p,v/g);a.element.innerHTML="";var w=a.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");c.filter(w).map(Jt).sort(er).forEach(function(x){var E=Se(x,2),b=E[0],A=E[1],O=Zt(b,A);Kt(O,b,A,f,y),a.element.appendChild(O)})}}})},ee=function(e,t){return{x:e,y:t}},rr=function(e,t){return e.x*t.x+e.y*t.y},Ne=function(e,t){return ee(e.x-t.x,e.y-t.y)},ir=function(e,t){return rr(Ne(e,t),Ne(e,t))},Le=function(e,t){return Math.sqrt(ir(e,t))},ze=function(e,t){var i=e,a=1.5707963267948966,n=t,l=1.5707963267948966-t,o=Math.sin(a),c=Math.sin(n),u=Math.sin(l),v=Math.cos(l),p=i/o,g=p*c,M=p*u;return ee(v*g,v*M)},ar=function(e,t){var i=e.width,a=e.height,n=ze(i,t),l=ze(a,t),o=ee(e.x+Math.abs(n.x),e.y-Math.abs(n.y)),c=ee(e.x+e.width+Math.abs(l.y),e.y+Math.abs(l.x)),u=ee(e.x-Math.abs(l.y),e.y+e.height-Math.abs(l.x));return{width:Le(o,c),height:Le(o,u)}},nr=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=e.height/e.width,n=1,l=t,o=1,c=a;c>l&&(c=l,o=c/a);var u=Math.max(n/o,l/c),v=e.width/(i*u*o),p=v*t;return{width:v,height:p}},We=function(e,t,i,a){var n=a.x>.5?1-a.x:a.x,l=a.y>.5?1-a.y:a.y,o=n*2*e.width,c=l*2*e.height,u=ar(t,i);return Math.max(u.width/o,u.height/c)},He=function(e,t){var i=e.width,a=i*t;a>e.height&&(a=e.height,i=a/t);var n=(e.width-i)*.5,l=(e.height-a)*.5;return{x:n,y:l,width:i,height:a}},or=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.zoom,a=t.rotation,n=t.center,l=t.aspectRatio;l||(l=e.height/e.width);var o=nr(e,l,i),c={x:o.width*.5,y:o.height*.5},u={x:0,y:0,width:o.width,height:o.height,center:c},v=typeof t.scaleToFit>"u"||t.scaleToFit,p=We(e,He(u,l),a,v?n:{x:.5,y:.5}),g=i*p;return{widthFloat:o.width/g,heightFloat:o.height/g,width:Math.round(o.width/g),height:Math.round(o.height/g)}},H={type:"spring",stiffness:.5,damping:.45,mass:10},lr=function(e){return e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:function(i){var a=i.root,n=i.props;a.appendChild(n.image)}})},cr=function(e){return e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:H,originY:H,scaleX:H,scaleY:H,translateX:H,translateY:H,rotateZ:H}},create:function(i){var a=i.root,n=i.props;n.width=n.image.width,n.height=n.image.height,a.ref.bitmap=a.appendChildView(a.createChildView(lr(e),{image:n.image}))},write:function(i){var a=i.root,n=i.props,l=n.crop.flip,o=a.ref.bitmap;o.scaleX=l.horizontal?-1:1,o.scaleY=l.vertical?-1:1}})},sr=function(e){return e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function(i){var a=i.root,n=i.props;n.background&&(a.element.style.backgroundColor=n.background)},create:function(i){var a=i.root,n=i.props;a.ref.image=a.appendChildView(a.createChildView(cr(e),Object.assign({},n))),a.ref.createMarkup=function(){a.ref.markup||(a.ref.markup=a.appendChildView(a.createChildView(tr(e),Object.assign({},n))))},a.ref.destroyMarkup=function(){a.ref.markup&&(a.removeChildView(a.ref.markup),a.ref.markup=null)};var l=a.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");l!==null&&(l==="grid"?a.element.dataset.transparencyIndicator=l:a.element.dataset.transparencyIndicator="color")},write:function(i){var a=i.root,n=i.props,l=i.shouldOptimize,o=n.crop,c=n.markup,u=n.resize,v=n.dirty,p=n.width,g=n.height;a.ref.image.crop=o;var M={x:0,y:0,width:p,height:g,center:{x:p*.5,y:g*.5}},_={width:a.ref.image.width,height:a.ref.image.height},P={x:o.center.x*_.width,y:o.center.y*_.height},R={x:M.center.x-_.width*o.center.x,y:M.center.y-_.height*o.center.y},T=Math.PI*2+o.rotation%(Math.PI*2),m=o.aspectRatio||_.height/_.width,h=typeof o.scaleToFit>"u"||o.scaleToFit,d=We(_,He(M,m),T,h?o.center:{x:.5,y:.5}),s=o.zoom*d;c&&c.length?(a.ref.createMarkup(),a.ref.markup.width=p,a.ref.markup.height=g,a.ref.markup.resize=u,a.ref.markup.dirty=v,a.ref.markup.markup=c,a.ref.markup.crop=or(_,o)):a.ref.markup&&a.ref.destroyMarkup();var f=a.ref.image;if(l){f.originX=null,f.originY=null,f.translateX=null,f.translateY=null,f.rotateZ=null,f.scaleX=null,f.scaleY=null;return}f.originX=P.x,f.originY=P.y,f.translateX=R.x,f.translateY=R.y,f.rotateZ=T,f.scaleX=s,f.scaleY=s}})},fr=function(e){return e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:H,scaleY:H,translateY:H,opacity:{type:"tween",duration:400}}},create:function(i){var a=i.root,n=i.props;a.ref.clip=a.appendChildView(a.createChildView(sr(e),{id:n.id,image:n.image,crop:n.crop,markup:n.markup,resize:n.resize,dirty:n.dirty,background:n.background}))},write:function(i){var a=i.root,n=i.props,l=i.shouldOptimize,o=a.ref.clip,c=n.image,u=n.crop,v=n.markup,p=n.resize,g=n.dirty;if(o.crop=u,o.markup=v,o.resize=p,o.dirty=g,o.opacity=l?0:1,!(l||a.rect.element.hidden)){var M=c.height/c.width,_=u.aspectRatio||M,P=a.rect.inner.width,R=a.rect.inner.height,T=a.query("GET_IMAGE_PREVIEW_HEIGHT"),m=a.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),h=a.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),d=a.query("GET_PANEL_ASPECT_RATIO"),s=a.query("GET_ALLOW_MULTIPLE");d&&!s&&(T=P*d,_=d);var f=T!==null?T:Math.max(m,Math.min(P*_,h)),y=f/_;y>P&&(y=P,f=y*_),f>R&&(f=R,y=R/_),o.width=y,o.height=f}}})},ur=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,Ue=0,dr=function(e){return e.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:function(i){var a=i.root,n=i.props,l=ur;if(document.querySelector("base")){var o=new URL(window.location.href.replace(window.location.hash,"")).href;l=l.replace(/url\(\#/g,"url("+o+"#")}Ue++,a.element.classList.add("filepond--image-preview-overlay-".concat(n.status)),a.element.innerHTML=l.replace(/__UID__/g,Ue)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})},pr=function(){self.onmessage=function(e){createImageBitmap(e.data.message.file).then(function(t){self.postMessage({id:e.data.id,message:t},[t])})}},vr=function(){self.onmessage=function(e){for(var t=e.data.message.imageData,i=e.data.message.colorMatrix,a=t.data,n=a.length,l=i[0],o=i[1],c=i[2],u=i[3],v=i[4],p=i[5],g=i[6],M=i[7],_=i[8],P=i[9],R=i[10],T=i[11],m=i[12],h=i[13],d=i[14],s=i[15],f=i[16],y=i[17],w=i[18],x=i[19],E=0,b=0,A=0,O=0,D=0;E<n;E+=4)b=a[E]/255,A=a[E+1]/255,O=a[E+2]/255,D=a[E+3]/255,a[E]=Math.max(0,Math.min((b*l+A*o+O*c+D*u+v)*255,255)),a[E+1]=Math.max(0,Math.min((b*p+A*g+O*M+D*_+P)*255,255)),a[E+2]=Math.max(0,Math.min((b*R+A*T+O*m+D*h+d)*255,255)),a[E+3]=Math.max(0,Math.min((b*s+A*f+O*y+D*w+x)*255,255));self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},hr=function(e,t){var i=new Image;i.onload=function(){var a=i.naturalWidth,n=i.naturalHeight;i=null,t(a,n)},i.src=e},mr={1:function(){return[1,0,0,1,0,0]},2:function(e){return[-1,0,0,1,e,0]},3:function(e,t){return[-1,0,0,-1,e,t]},4:function(e,t){return[1,0,0,-1,0,t]},5:function(){return[0,1,1,0,0,0]},6:function(e,t){return[0,1,-1,0,t,0]},7:function(e,t){return[0,-1,-1,0,t,e]},8:function(e){return[0,-1,1,0,0,e]}},gr=function(e,t,i,a){a!==-1&&e.transform.apply(e,mr[a](t,i))},yr=function(e,t,i,a){t=Math.round(t),i=Math.round(i);var n=document.createElement("canvas");n.width=t,n.height=i;var l=n.getContext("2d");if(a>=5&&a<=8){var o=[i,t];t=o[0],i=o[1]}return gr(l,t,i,a),l.drawImage(e,0,0,t,i),n},qe=function(e){return/^image/.test(e.type)&&!/svg/.test(e.type)},wr=10,Er=10,_r=function(e){var t=Math.min(wr/e.width,Er/e.height),i=document.createElement("canvas"),a=i.getContext("2d"),n=i.width=Math.ceil(e.width*t),l=i.height=Math.ceil(e.height*t);a.drawImage(e,0,0,n,l);var o=null;try{o=a.getImageData(0,0,n,l).data}catch{return null}for(var c=o.length,u=0,v=0,p=0,g=0;g<c;g+=4)u+=o[g]*o[g],v+=o[g+1]*o[g+1],p+=o[g+2]*o[g+2];return u=we(u,c),v=we(v,c),p=we(p,c),{r:u,g:v,b:p}},we=function(e,t){return Math.floor(Math.sqrt(e/(t/4)))},br=function(e,t){t=t||document.createElement("canvas"),t.width=e.width,t.height=e.height;var i=t.getContext("2d");return i.drawImage(e,0,0),t},Ir=function(e){var t;try{t=new ImageData(e.width,e.height)}catch{var i=document.createElement("canvas"),a=i.getContext("2d");t=a.createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t},Pr=function(e){return new Promise(function(t,i){var a=new Image;a.crossOrigin="Anonymous",a.onload=function(){t(a)},a.onerror=function(n){i(n)},a.src=e})},xr=function(e){var t=dr(e),i=fr(e),a=e.utils.createWorker,n=function(d,s,f){return new Promise(function(y){d.ref.imageData||(d.ref.imageData=f.getContext("2d").getImageData(0,0,f.width,f.height));var w=Ir(d.ref.imageData);if(!s||s.length!==20)return f.getContext("2d").putImageData(w,0,0),y();var x=a(vr);x.post({imageData:w,colorMatrix:s},function(E){f.getContext("2d").putImageData(E,0,0),x.terminate(),y()},[w.data.buffer])})},l=function(d,s){d.removeChildView(s),s.image.width=1,s.image.height=1,s._destroy()},o=function(d){var s=d.root,f=s.ref.images.shift();return f.opacity=0,f.translateY=-15,s.ref.imageViewBin.push(f),f},c=function(d){var s=d.root,f=d.props,y=d.image,w=f.id,x=s.query("GET_ITEM",{id:w});if(x){var E=x.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},b=s.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),A,O,D=!1;s.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(A=x.getMetadata("markup")||[],O=x.getMetadata("resize"),D=!0);var U=s.appendChildView(s.createChildView(i,{id:w,image:y,crop:E,resize:O,markup:A,dirty:D,background:b,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),s.childViews.length);s.ref.images.push(U),U.opacity=1,U.scaleX=1,U.scaleY=1,U.translateY=0,setTimeout(function(){s.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:w})},250)}},u=function(d){var s=d.root,f=d.props,y=s.query("GET_ITEM",{id:f.id});if(y){var w=s.ref.images[s.ref.images.length-1];w.crop=y.getMetadata("crop"),w.background=s.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),s.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(w.dirty=!0,w.resize=y.getMetadata("resize"),w.markup=y.getMetadata("markup"))}},v=function(d){var s=d.root,f=d.props,y=d.action;if(/crop|filter|markup|resize/.test(y.change.key)&&s.ref.images.length){var w=s.query("GET_ITEM",{id:f.id});if(w){if(/filter/.test(y.change.key)){var x=s.ref.images[s.ref.images.length-1];n(s,y.change.value,x.image);return}if(/crop|markup|resize/.test(y.change.key)){var E=w.getMetadata("crop"),b=s.ref.images[s.ref.images.length-1];if(E&&E.aspectRatio&&b.crop&&b.crop.aspectRatio&&Math.abs(E.aspectRatio-b.crop.aspectRatio)>1e-5){var A=o({root:s});c({root:s,props:f,image:br(A.image)})}else u({root:s,props:f})}}}},p=function(d){var s=window.navigator.userAgent,f=s.match(/Firefox\/([0-9]+)\./),y=f?parseInt(f[1]):null;return y!==null&&y<=58?!1:"createImageBitmap"in window&&qe(d)},g=function(d){var s=d.root,f=d.props,y=f.id,w=s.query("GET_ITEM",y);if(w){var x=URL.createObjectURL(w.file);hr(x,function(E,b){s.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:y,width:E,height:b})})}},M=function(d){var s=d.root,f=d.props,y=f.id,w=s.query("GET_ITEM",y);if(w){var x=URL.createObjectURL(w.file),E=function(){Pr(x).then(b)},b=function(D){URL.revokeObjectURL(x);var U=w.getMetadata("exif")||{},Z=U.orientation||-1,B=D.width,j=D.height;if(!(!B||!j)){if(Z>=5&&Z<=8){var le=[j,B];B=le[0],j=le[1]}var Ee=Math.max(1,window.devicePixelRatio*.75),_e=s.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR"),ce=_e*Ee,se=j/B,Ye=s.rect.element.width,Mr=s.rect.element.height,te=Ye,fe=te*se;se>1?(te=Math.min(B,Ye*ce),fe=te*se):(fe=Math.min(j,Mr*ce),te=fe/se);var je=yr(D,te,fe,Z),Xe=function(){var Rr=s.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?_r(data):null;w.setMetadata("color",Rr,!0),"close"in D&&D.close(),s.ref.overlayShadow.opacity=1,c({root:s,props:f,image:je})},Ze=w.getMetadata("filter");Ze?n(s,Ze,je).then(Xe):Xe()}};if(p(w.file)){var A=a(pr);A.post({file:w.file},function(O){if(A.terminate(),!O){E();return}b(O)})}else E()}},_=function(d){var s=d.root,f=s.ref.images[s.ref.images.length-1];f.translateY=0,f.scaleX=1,f.scaleY=1,f.opacity=1},P=function(d){var s=d.root;s.ref.overlayShadow.opacity=1,s.ref.overlayError.opacity=0,s.ref.overlaySuccess.opacity=0},R=function(d){var s=d.root;s.ref.overlayShadow.opacity=.25,s.ref.overlayError.opacity=1},T=function(d){var s=d.root;s.ref.overlayShadow.opacity=.25,s.ref.overlaySuccess.opacity=1},m=function(d){var s=d.root;s.ref.images=[],s.ref.imageData=null,s.ref.imageViewBin=[],s.ref.overlayShadow=s.appendChildView(s.createChildView(t,{opacity:0,status:"idle"})),s.ref.overlaySuccess=s.appendChildView(s.createChildView(t,{opacity:0,status:"success"})),s.ref.overlayError=s.appendChildView(s.createChildView(t,{opacity:0,status:"failure"}))};return e.utils.createView({name:"image-preview-wrapper",create:m,styles:["height"],apis:["height"],destroy:function(d){var s=d.root;s.ref.images.forEach(function(f){f.image.width=1,f.image.height=1})},didWriteView:function(d){var s=d.root;s.ref.images.forEach(function(f){f.dirty=!1})},write:e.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:_,DID_IMAGE_PREVIEW_CONTAINER_CREATE:g,DID_FINISH_CALCULATE_PREVIEWSIZE:M,DID_UPDATE_ITEM_METADATA:v,DID_THROW_ITEM_LOAD_ERROR:R,DID_THROW_ITEM_PROCESSING_ERROR:R,DID_THROW_ITEM_INVALID:R,DID_COMPLETE_ITEM_PROCESSING:T,DID_START_ITEM_PROCESSING:P,DID_REVERT_ITEM_PROCESSING:P},function(h){var d=h.root,s=d.ref.imageViewBin.filter(function(f){return f.opacity===0});d.ref.imageViewBin=d.ref.imageViewBin.filter(function(f){return f.opacity>0}),s.forEach(function(f){return l(d,f)}),s.length=0})})},Be=function(e){var t=e.addFilter,i=e.utils,a=i.Type,n=i.createRoute,l=i.isFile,o=xr(e);return t("CREATE_VIEW",function(c){var u=c.is,v=c.view,p=c.query;if(!(!u("file")||!p("GET_ALLOW_IMAGE_PREVIEW"))){var g=function(m){var h=m.root,d=m.props,s=d.id,f=p("GET_ITEM",s);if(!(!f||!l(f.file)||f.archived)){var y=f.file;if(L(y)&&p("GET_IMAGE_PREVIEW_FILTER_ITEM")(f)){var w="createImageBitmap"in(window||{}),x=p("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!(!w&&x&&y.size>x)){h.ref.imagePreview=v.appendChildView(v.createChildView(o,{id:s}));var E=h.query("GET_IMAGE_PREVIEW_HEIGHT");E&&h.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:f.id,height:E});var b=!w&&y.size>p("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");h.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:s},b)}}}},M=function(m,h){if(m.ref.imagePreview){var d=h.id,s=m.query("GET_ITEM",{id:d});if(s){var f=m.query("GET_PANEL_ASPECT_RATIO"),y=m.query("GET_ITEM_PANEL_ASPECT_RATIO"),w=m.query("GET_IMAGE_PREVIEW_HEIGHT");if(!(f||y||w)){var x=m.ref,E=x.imageWidth,b=x.imageHeight;if(!(!E||!b)){var A=m.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),O=m.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),D=s.getMetadata("exif")||{},U=D.orientation||-1;if(U>=5&&U<=8){var Z=[b,E];E=Z[0],b=Z[1]}if(!qe(s.file)||m.query("GET_IMAGE_PREVIEW_UPSCALE")){var B=2048/E;E*=B,b*=B}var j=b/E,le=(s.getMetadata("crop")||{}).aspectRatio||j,Ee=Math.max(A,Math.min(b,O)),_e=m.rect.element.width,ce=Math.min(_e*le,Ee);m.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:s.id,height:ce})}}}}},_=function(m){var h=m.root;h.ref.shouldRescale=!0},P=function(m){var h=m.root,d=m.action;d.change.key==="crop"&&(h.ref.shouldRescale=!0)},R=function(m){var h=m.root,d=m.action;h.ref.imageWidth=d.width,h.ref.imageHeight=d.height,h.ref.shouldRescale=!0,h.ref.shouldDrawPreview=!0,h.dispatch("KICK")};v.registerWriter(n({DID_RESIZE_ROOT:_,DID_STOP_RESIZE:_,DID_LOAD_ITEM:g,DID_IMAGE_PREVIEW_CALCULATE_SIZE:R,DID_UPDATE_ITEM_METADATA:P},function(T){var m=T.root,h=T.props;m.ref.imagePreview&&(m.rect.element.hidden||(m.ref.shouldRescale&&(M(m,h),m.ref.shouldRescale=!1),m.ref.shouldDrawPreview&&(requestAnimationFrame(function(){requestAnimationFrame(function(){m.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:h.id})})}),m.ref.shouldDrawPreview=!1)))}))}}),{options:{allowImagePreview:[!0,a.BOOLEAN],imagePreviewFilterItem:[function(){return!0},a.FUNCTION],imagePreviewHeight:[null,a.INT],imagePreviewMinHeight:[44,a.INT],imagePreviewMaxHeight:[256,a.INT],imagePreviewMaxFileSize:[null,a.INT],imagePreviewZoomFactor:[2,a.INT],imagePreviewUpscale:[!1,a.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,a.INT],imagePreviewTransparencyIndicator:[null,a.STRING],imagePreviewCalculateAverageImageColor:[!1,a.BOOLEAN],imagePreviewMarkupShow:[!0,a.BOOLEAN],imagePreviewMarkupFilter:[function(){return!0},a.FUNCTION]}}},Tr=typeof window<"u"&&typeof window.document<"u";return Tr&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Be})),Be})});var ht=Ar(pt());var Or=["myPond"],kr=()=>({});function Cr(L,V){if(L&1&&k(0,"spk-nft-card",48),L&2){let G=V.$implicit;ve("nft",G)}}(0,ft.registerPlugin)(ht.default);var vt=class L{myPond;pondOptions={allowMultiple:!0,labelIdle:"Png, Gif, MP4 (or) MP3, WEBP, 3D Model "};singlepondOptions={allowMultiple:!1,labelIdle:"Png, Gif, MP4 (or) MP3, WEBP, 3D Model "};dropzoneOptions={allowImagePreview:!0,imagePreviewHeight:400,stylePanelLayout:"compact circle",labelIdle:"Png, Gif, MP4 (or) MP3, WEBP, 3D Model ",styleLoadIndicatorPosition:"center bottom",styleButtonRemoveItemPosition:"center bottom"};pondFiles=[];pondHandleInit(){}pondHandleAddFile(V){}pondHandleActivateFile(V){}Royality=[{label:"Choose Royalities",value:1},{label:"Flat Royalty",value:2},{label:"Graduated Royalty",value:3},{label:"Tiered Royalty",value:4},{label:"Time-Limited Royalty",value:5},{label:"Customized Royalty",value:6}];NftCards=[{id:1,image:"./assets/images/nft-images/2.png",title:"Neon Samurai: Blade of the Future",author:"Kairo Tetsuo",currentBid:"12.45ETH",likes:"1.32k",bidAmount:"Place a Bid",time:"04hrs : 24m : 38s"}];static \u0275fac=function(G){return new(G||L)};static \u0275cmp=Ke({type:L,selectors:[["app-create-nft"]],viewQuery:function(G,z){if(G&1&&rt(Or,5),G&2){let Y;it(Y=at())&&(z.myPond=Y.first)}},decls:78,vars:12,consts:[["myPond",""],["title","Dashboards","sub_title","NFT","active_item","Create NFT"],[1,"row"],[1,"col-xxl-9","col-xl-8"],[1,"card","custom-card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","gy-3","justify-content-between"],[1,"col-xxl-3","col-xl-12"],[1,"create-nft-item"],[1,"form-label"],[1,"filepond--root","single-fileupload","filepond--hopper",3,"oninit","onaddfile","onactivatefile","options","files"],[1,"col-xxl-7","col-xl-12"],[1,"row","gy-3"],[1,"col-xl-12"],["for","input-placeholder",1,"form-label"],["type","text","id","input-placeholder","placeholder","eg:Neo-Nebulae",1,"form-control"],["for","nft-description",1,"form-label"],["id","nft-description","rows","3","placeholder","Enter Description",1,"form-control"],["for","nft-link",1,"form-label"],["type","text","id","nft-link","placeholder","External Link Here",1,"form-control"],[1,"col-xl-6"],["for","nft-creator-name",1,"form-label"],["type","text","id","nft-creator-name","placeholder","Enter Name",1,"form-control"],["for","nft-price",1,"form-label"],["type","text","id","nft-price","placeholder","Enter Price",1,"form-control"],[1,"col-xl-4"],["for","nft-size",1,"form-label"],["type","text","id","nft-size","placeholder","Enter Size",1,"form-control"],["for","nft-royality",1,"form-label"],[3,"options","id","selectClass","clearable","searchable","hideSelected","placeholder","additionalProperties"],["for","nft-property",1,"form-label"],["type","text","id","nft-property","placeholder","Enter Property",1,"form-control"],[1,"form-label","d-block"],["role","group","aria-label","Basic radio toggle button group",1,"btn-group"],["type","radio","name","strap-material","id","strap1","checked","",1,"btn-check"],["for","strap1",1,"btn","btn-sm","btn-outline-primary","text-default","z-0"],[1,"ti","ti-tag","me-1","align-middle","fs-15","d-inline-block"],["type","radio","name","strap-material","id","strap2",1,"btn-check"],["for","strap2",1,"btn","btn-sm","btn-outline-primary","text-default","z-0"],[1,"ti","ti-users","fs-15","me-1","align-middle","d-inline-block"],["type","radio","name","strap-material","id","strap3",1,"btn-check"],["for","strap3",1,"btn","btn-sm","btn-outline-primary","text-default","z-0"],[1,"ti","ti-hourglass-low","fs-15","me-1","align-middle","d-inline-block"],[1,"card-footer","text-end"],["href","javascript:void(0);",1,"btn","btn-primary","btn-wave","waves-effect","waves-light"],[1,"col-xxl-3","col-xl-4"],[3,"nft"]],template:function(G,z){if(G&1){let Y=et();k(0,"app-breadcrumb",1),S(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),C(6,"Create NFT"),I()(),S(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"label",11),C(12,"Upload NFT"),I(),S(13,"file-pond",12,0),tt("oninit",function(){return ue(Y),de(z.pondHandleInit())})("onaddfile",function(q){return ue(Y),de(z.pondHandleAddFile(q))})("onactivatefile",function(q){return ue(Y),de(z.pondHandleActivateFile(q))}),I()()(),S(15,"div",13)(16,"div",14)(17,"div",15)(18,"label",16),C(19,"NFT Title"),I(),k(20,"input",17),I(),S(21,"div",15)(22,"label",18),C(23,"NFT Description"),I(),k(24,"textarea",19),I(),S(25,"div",15)(26,"label",20),C(27,"External Link"),I(),k(28,"input",21),I()()(),S(29,"div",15)(30,"div",14)(31,"div",22)(32,"label",23),C(33,"Creator Name"),I(),k(34,"input",24),I(),S(35,"div",22)(36,"label",25),C(37,"NFT Price"),I(),k(38,"input",26),I(),S(39,"div",27)(40,"label",28),C(41,"NFT Size"),I(),k(42,"input",29),I(),S(43,"div",27)(44,"label",30),C(45,"Royality"),I(),k(46,"spk-ng-select",31),I(),S(47,"div",27)(48,"label",32),C(49,"Property"),I(),k(50,"input",33),I(),S(51,"div",15)(52,"label",34),C(53,"Method"),I(),S(54,"div",35),k(55,"input",36),S(56,"label",37),k(57,"i",38),C(58,"Fixed Price"),I(),k(59,"input",39),S(60,"label",40),k(61,"i",41),C(62,"Open For Bids"),I(),k(63,"input",42),S(64,"label",43),k(65,"i",44),C(66,"Timed Auction"),I()()()()()()(),S(67,"div",45)(68,"a",46),C(69,"Create NFT"),I()()()(),S(70,"div",47)(71,"div",4)(72,"div",5)(73,"div",6),C(74," NFT Preview Here "),I()(),S(75,"div",7),Qe(76,Cr,1,1,"spk-nft-card",48,$e),I()()()()}G&2&&(pe(13),ve("options",z.dropzoneOptions)("files",z.pondFiles),pe(33),ve("options",z.Royality)("id","choices-single-default")("selectClass","creative-nft-select")("clearable",!0)("searchable",!0)("hideSelected",!0)("id","nft-royality")("placeholder","Choose Royalities")("additionalProperties",nt(11,kr)),pe(30),Je(z.NftCards))},dependencies:[ot,lt,st,ct,ut,dt],encapsulation:2})};export{vt as CreateNft};
